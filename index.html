<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Velozza â€” Official</title>

  <link rel="icon" type="image/png" href="materiaal/favicon.png" sizes="192x192" />

  <link rel="apple-touch-icon" href="materiaal/favicon.png" />

  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --accent: #d11a12;
      --muted: #050505;
    }

    body {
      background: #050505;
      color: #eee;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI",
        Roboto, "Helvetica Neue", Arial;
    }

    .glow {
      filter: drop-shadow(0 6px 20px rgba(209, 26, 18, 0.25));
    }

    .video-wrap {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
    }

    .video-wrap iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .small {
      font-size: 0.95rem;
    }

    .hero-video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 1;
    }

    .hero-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.7));
      z-index: 2;
    }

    .hero-logo {
      position: relative;
      z-index: 3;
    }

    /* Add this custom class for hiding the header */
    .header-hidden {
      transform: translateY(-100%);
    }

    /* Inside your <style> block, after .hero-overlay for example */
    .overlap-border {
      /* Use negative margin to pull the next element up */
      margin-top: -15px;
      /* Adjust this value to control the overlap depth */
      margin-bottom: -15px;
      position: relative;
      z-index: 10;
      /* Ensure the image sits above the sections */
    }
  </style>
</head>

<body class="antialiased leading-relaxed">
  <section class="relative w-full h-screen overflow-hidden">
    <video autoplay muted loop playsinline class="hero-video">
      <source src="materiaal/Velozza - Bankrupt the Republic.mp4" type="video/mp4" />
    </video>
    <div class="hero-overlay"></div>
    <header id="mainHeader" class="fixed top-0 inset-x-0 z-50 transition-all duration-300 hidden sm:block">
      <div class="max-w-6xl mx-auto px-12 py-4">
        <nav class="flex items-center justify-between">
          <div class="flex items-center gap-4">
            <img id="headerLogo" src="materiaal/velozza_distressed_logo-transparant2.webp" alt="Velozza"
              class="h-16 glow cursor-pointer" />
            <div class="text-sm text-gray-300">
              Velozza â€” Thrash Metal from Roermond
            </div>
          </div>

          <div class="space-x-1 text-sm">

            <a href="#about" class="
            inline-block text-gray-300
            px-3 py-2 rounded-lg 
            transition-colors duration-300 
            hover:bg-[#d11a12] hover:text-white
        ">About</a>

            <a href="#music" class="
            inline-block text-gray-300
            px-3 py-2 rounded-lg 
            transition-colors duration-300 
            hover:bg-[#d11a12] hover:text-white
        ">Music</a>

            <a href="#shows" class="
            inline-block text-gray-300
            px-3 py-2 rounded-lg 
            transition-colors duration-300 
            hover:bg-[#d11a12] hover:text-white
        ">Shows</a>

            <a href="#merch" class="
            inline-block text-gray-300
            px-3 py-2 rounded-lg 
            transition-colors duration-300 
            hover:bg-[#d11a12] hover:text-white
        ">Merch</a>

            <a href="#contact" class="
            inline-block text-gray-300
            px-3 py-2 rounded-lg 
            transition-colors duration-300 
            hover:bg-[#d11a12] hover:text-white
        ">Contact</a>
          </div>
        </nav>
      </div>
    </header>

    <div class="hero-logo absolute inset-0 flex items-center justify-center">
      <img src="materiaal/velozza_distressed_logo-transparant2.webp" alt="Velozza Logo"
        class="w-full max-w-[700px] glow" />
    </div>

    <div class="absolute inset-0 flex flex-col items-center justify-end pb-20 z-30">
      <p class="mt-6 text-gray-300 max-w-2xl mx-auto">
        Raw, uncompromising thrash from Roermond. New full-length album coming
        early 2026.
      </p>
      <div class="mt-8 flex justify-center gap-4">
        <a href="https://open.spotify.com/artist/1jnRNkkxVD5IHcPbOa3u0W" target="_blank"
          class="px-6 py-3 rounded-md border border-white/10 text-sm font-medium hover:bg-[#d11a12] hover:border-[#d11a12] transition-colors duration-300">
          Listen on Spotify
        </a>
        <a href="https://www.youtube.com/@velozzaofficial" target="_blank"
          class="px-6 py-3 rounded-md border border-white/10 text-sm font-medium hover:bg-[#d11a12] hover:border-[#d11a12] transition-colors duration-300">
          YouTube channel
        </a>
        <button id="openBookingsModal"
          class="px-6 py-3 rounded-md border border-white/10 text-sm font-medium hover:bg-[#d11a12] hover:border-[#d11a12] transition-colors duration-300">
          Bookings
        </button>
      </div>
    </div>
  </section>

  <img src="materiaal/icons/border1.png"
    class="w-full h-16 object-cover rotate-180 overlap-border relative z-10 mt-[0px] mb-[-40px]" />


  <section id="about" class="relative bg-[url('materiaal/velozza-banner.webp')] bg-cover bg-center bg-no-repeat">
    <div class="absolute inset-0 bg-black/60 z-5"></div>

    <div class="max-w-6xl mx-auto px-6 py-24 relative z-20">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
        <div class="md:col-span-2">
          <h2 class="text-3xl font-semibold">About Velozza</h2>
          <p class="mt-4 text-gray-300">
            Velozza is a thrash metal band from Roermond, the Netherlands,
            formed in 2016. The four members â€” Bas (lead guitar), Rob (drums),
            Jos (guitar & vocals), and Ron (bass) â€” deliver raw, uncompromising
            thrash that channels the spirit of the â€™80s while carving out a
            sound of their own.
          </p>
          <p class="mt-3 text-gray-300">
            Get ready for a surge of sharp, driving metal. Fans of Slayer,
            Kreator, and Havok will feel right at home with this set. Fast,
            tight, and heavy from start to finish. Velozza delivers relentless
            riffs and commanding songs built for full-volume crowds. Step in,
            turn it up, and follow the band as they tear through stages one show
            at a time.
          </p>
        </div>
      </div>
    </div>
  </section>


  <img src="materiaal/icons/border1.png" class="w-full h-16 object-cover overlap-border mt-[-45px]" />


  <section id="music" class="border-t border-white/5 py-12">
    <div class="max-w-6xl mx-auto px-6">
      <h3 class="text-2xl font-semibold">Music</h3>
      <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-8">
        <div>
          <h4 class="text-sm uppercase text-gray-400 mb-3">Spotify</h4>
          <div class="rounded overflow-hidden border border-white/5">
            <iframe src="https://open.spotify.com/embed/artist/1jnRNkkxVD5IHcPbOa3u0W" width="100%" height="380"
              frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
          </div>
        </div>

        <div>
          <h4 class="text-sm uppercase text-gray-400 mb-3">YouTube</h4>
          <div class="mt-4 grid grid-cols-3 gap-3" id="yt-thumbs">
            <button data-video="B5QF83CZvEI" class="block bg-white/3 p-3 rounded text-center text-xs">
              Play video 1
            </button>
            <button data-video="Fk4BFv5bayM" class="block bg-white/3 p-3 rounded text-center text-xs">
              Play video 2
            </button>
            <button data-video="2C4_i7uBcJs" class="block bg-white/3 p-3 rounded text-center text-xs">
              Play video 3
            </button>
          </div>

          <div class="mt-4 video-wrap rounded overflow-hidden border border-white/5">
            <iframe id="yt-embed" src="https://www.youtube.com/embed/2C4_i7uBcJs" title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </section>

  <img src="materiaal/icons/border1.png" class="w-full h-16 object-cover rotate-180 overlap-border" />

  <section id="shows" class="max-w-6xl mx-auto px-6 py-12">
    <h3 class="text-2xl font-semibold mb-4">Shows</h3>

    <div class="flex gap-4 mb-6">
      <button id="upcomingBtn" class="px-4 py-2 bg-[var(--accent)] text-white text-sm rounded">
        Upcoming Shows
      </button>
      <button id="pastBtn" class="px-4 py-2 bg-[var(--accent)] text-white text-sm rounded">
        Past Shows
      </button>
    </div>

    <div id="upcomingList" class="grid gap-3"></div>
    <div id="pastList" class="grid gap-3 mt-6 hidden"></div>
  </section>

  <img src="materiaal/icons/border1.png" class="w-full h-16 object-cover overlap-border" />

  <section id="merch"
    class="relative py-12 bg-[url('materiaal/Merchandise-achtergrond.webp')] bg-cover bg-center bg-no-repeat">
    <div class="absolute inset-0 bg-black/80 z-5"></div>

    <div class="max-w-6xl mx-auto px-6 text-center relative z-20">
      <h3 class="text-2xl font-semibold mb-4">Merchandise</h3>
      <p class="text-gray-300 mb-6">
        Official Velozza merchandise â€” shirts, caps, and more available
        through Bandcamp.
      </p>
      <a href="https://velozza.bandcamp.com/merch" target="_blank"
        class="inline-block px-8 py-3 bg-[var(--accent)] text-white rounded font-semibold hover:bg-red-700 transition">Visit
        Merch Store</a>
    </div>
  </section>

  <img src="materiaal/icons/border1.png" class="w-full h-16 object-cover rotate-180 overlap-border" />

  <footer id="contact" class="border-t border-white/5 py-12">
    <div class="max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-6">
      <div>
        <h4 class="text-sm text-gray-400">Contact</h4>
        <p class="text-gray-300 mt-2 text-sm">
          For bookings & press:
          <a href="mailto:velozza@outlook.com" class="underline">velozza@outlook.com</a>
        </p>
      </div>
      <div class="flex items-center gap-4">
        <a href="https://facebook.com/Velozzaband" target="_blank" class="
Â  Â  Â  Â  Â  Â  flex items-center justify-center 
Â  Â  Â  Â  Â  Â  w-10 h-10 rounded-lg 
Â  Â  Â  Â  Â  Â  transition-colors duration-300 
Â  Â  Â  Â  Â  Â  hover:bg-[#d11a12]
Â  Â  Â  Â  Â  "><img src="materiaal/icons/facebook.svg" alt="Facebook Icon"
            class="w-7 h-7 inline-block align-text-bottom" /></a>
        <a href="https://instagram.com/velozzaofficial" target="_blank" class="
Â  Â  Â  Â  Â  Â  flex items-center justify-center 
Â  Â  Â  Â  Â  Â  w-10 h-10 rounded-lg 
Â  Â  Â  Â  Â  Â  transition-colors duration-300 
Â  Â  Â  Â  Â  Â  hover:bg-[#d11a12]
Â  Â  Â  Â  Â  "><img src="materiaal/icons/instagram.svg" alt="Instagram Icon"
            class="w-7 h-7 inline-block align-text-bottom" /></a>
        <a href="https://velozza.bandcamp.com/" target="_blank" class="
Â  Â  Â  Â  Â  Â  flex items-center justify-center 
Â  Â  Â  Â  Â  Â  w-10 h-10 rounded-lg 
Â  Â  Â  Â  Â  Â  transition-colors duration-300 
Â  Â  Â  Â  Â  Â  hover:bg-[#d11a12]
Â  Â  Â  Â  Â  "><img src="materiaal/icons/bandcamp.svg" alt="Bandcamp Icon"
            class="w-7 h-7 inline-block align-text-bottom" /></a>
      </div>
    </div>
    <div class="max-w-6xl mx-auto px-6 mt-8 text-xs text-gray-600">
      Â© Velozza â€” All rights reserved.
    </div>
  </footer>

  <div id="bookingsModal"
    class="fixed inset-0 bg-black/90 z-[9999] flex items-center justify-center p-6 hidden transition-opacity duration-300">
    <div
      class="bg-zinc-900 border border-white/10 rounded-lg max-w-3xl w-full p-8 relative max-h-[90vh] overflow-y-auto">
      <button id="closeBookingsModal" class="absolute top-4 right-4 text-xl text-gray-400 hover:text-white">
        &times;
      </button>

      <h3 class="text-3xl font-bold mb-4 border-b border-gray-700 pb-2">
        Velozza Press & Booking Kit
      </h3>
      <div class="mb-6">
        <p class="text-gray-300 mt-2 text-sm">
          For bookings & press:
          <a href="mailto:velozza@outlook.com" class="underline">velozza@outlook.com</a>
        </p>
        <p class="text-gray-300 mt-2 text-sm">
          (Rates available upon request)
        </p>
      </div>
      <div class="mb-6">
        <h4 class="text-white-300 mt-2 text-sm">VELOZZA is a force to be reckoned with, born in the heart of the Dutch
          thrash metal scene. Formed in Roermond in 2016, the band quickly established their presence with an impressive
          amount of high-quality studio material. They also stand out for their busy schedule, featuring numerous
          interesting performances with (inter)national bands both at home and abroad.
          Expect raw, uncompromising thrash metal, channeling the pure, fast energy of the '80s masters while carving
          out a crushing, distinctive identity of their own. For fans of Slayer, Kreator, and Havok,
          VELOZZA is the essential live act that guarantees a mosh pit.</h4>
      </div>
      <div class="mb-6">
        <h4 class="text-xl font-semibold mb-2">Official Bio</h4>
        <a href="materiaal/Velozza - Bio.pdf" target="_blank"
          class="inline-block px-4 py-2 bg-[#d11a12] text-white rounded font-medium hover:bg-red-700 transition">
          <img src="materiaal/icons/download-cloud.svg" alt="Download Icon"
            class="w-5 h-5 inline-block mr-2 align-text-bottom" />
          Download Bio (PDF)
        </a>
      </div>

      <h4 class="text-xl font-semibold mb-4">Official Press Photos</h4>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
        <div class="col-span-2 md:col-span-3 mb-2">
          <img src="materiaal/velozza-022.webp" alt="Velozza Group"
            class="w-full rounded-lg shadow-lg object-cover max-h-100" />
          <p class="text-xs text-gray-500 mt-0.5 text-center">
            Velozza (Full Band)
          </p>
        </div>
        <div class="col-span-2 md:col-span-3 mb-2">
          <img src="materiaal/velozza-banner.webp" alt="Velozza Group"
            class="w-full rounded-lg shadow-lg object-cover max-h-80" />
          <p class="text-xs text-gray-500 mt-0.5 text-center">
            Velozza (banner)
          </p>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 col-span-2 md:col-span-3 mt-1">
          <div class="aspect-square w-full">
            <img src="materiaal/Velozza - members/velozza-bas.webp" alt="Bas"
              class="w-full h-full rounded-lg shadow-md object-cover" />
            <p class="text-xs text-gray-500 mt-0.5 text-center">
              Bas (Lead Guitar)
            </p>
          </div>

          <div class="aspect-square w-full">
            <img src="materiaal/Velozza - members/velozza-rob.webp" alt="Rob"
              class="w-full h-full rounded-lg shadow-md object-cover" />
            <p class="text-xs text-gray-500 mt-0.5 text-center">
              Rob (Drums)
            </p>
          </div>

          <div class="aspect-square w-full">
            <img src="materiaal/Velozza - members/velozza-jos.webp" alt="Jos"
              class="w-full h-full rounded-lg shadow-md object-cover" />
            <p class="text-xs text-gray-500 mt-0.5 text-center">
              Jos (Guitar/Vocals)
            </p>
          </div>

          <div class="aspect-square w-full">
            <img src="materiaal/Velozza - members/velozza-ron.webp" alt="Ron"
              class="w-full h-full rounded-lg shadow-md object-cover" />
            <p class="text-xs text-gray-500 mt-0.5 text-center">Ron (Bass)</p>
          </div>
        </div>
      </div>

      <div class="mt-8 pt-4 border-t border-gray-700 text-center">
        <a href="materiaal/Velozza - presskit.zip" download
          class="inline-flex items-center justify-center px-8 py-4 bg-zinc-800 border border-white/20 text-white rounded-lg font-bold hover:bg-[#d11a12] hover:border-[#d11a12] transition duration-300 w-full md:w-auto">
          <img src="materiaal/icons/download.svg" alt="Download Icon"
            class="w-5 h-5 inline-block mr-2 align-text-bottom" />
          DOWNLOAD FULL PRESS KIT (ZIP)
        </a>
      </div>
    </div>
  </div>
  <button id="backToTopBtn" class="
        fixed bottom-6 right-6 z-[1000] 
        w-12 h-12 rounded-md 
        bg-[var(--muted)]/70 hover:bg-[#d11a12] 
        text-white 
        flex items-center justify-center 
        transition-all duration-300 
        opacity-0 pointer-events-none 
        shadow-xl
    " title="Scroll naar boven">
    <img src="materiaal/icons/arrow-up.svg" alt="Pijl omhoog" class="w-6 h-6" />
  </button>
  <div id="secretVideoContainer"
    class="fixed inset-0 z-[10000] flex items-center justify-center pointer-events-none hidden">
  </div>

  <script type="module">
    // ðŸ”¥ Firebase imports
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import {
      getFirestore,
      collection,
      onSnapshot,
      query,
      orderBy,
    } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyAj7nzvflTuXerUQ9LzOnn7TRojw4ZHlkc",
      authDomain: "velozza-events.firebaseapp.com",
      projectId: "velozza-events",
      storageBucket: "velozza-events.firebasestorage.app",
      messagingSenderId: "125892769650",
      appId: "1:125892769650:web:81deb40d2b0a7e7bb58feb",
      measurementId: "G-HS8GCH4040",
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const eventsColl = collection(db, "events");

    function parseDateLocal(dstr) {
      const [y, m, day] = dstr.split("-").map(Number);
      return new Date(y, m - 1, day, 0, 0, 0, 0);
    }

    function formatDate(dstr) {
      const d = parseDateLocal(dstr);
      return d.toLocaleDateString(undefined, {
        weekday: "short",
        year: "numeric",
        month: "short",
        day: "numeric",
      });
    }

    function renderEventsInto(upcoming, past) {
      const upEl = document.getElementById("upcomingList");
      const pastEl = document.getElementById("pastList");
      upEl.innerHTML = "";
      pastEl.innerHTML = "";

      // Helper function to create the card and inject the random background
      const createEventCard = (ev) => {
        // 1. Generate a random number between 1 and 16 (inclusive)
        const randomBgIndex = Math.floor(Math.random() * 16) + 1;

        // 2. Construct the URL for the background image
        const bgUrl = `materiaal/event-achtergronden/${randomBgIndex}.webp`;

        const card = document.createElement("div");
        // Add relative positioning, border, and minimum height for the background
        card.className = "p-3 border rounded border-white/5 relative overflow-hidden min-h-[120px]";

        // 3. Inject the background and overlay using HTML
        card.innerHTML = `
          <div 
            class="absolute inset-0 bg-cover bg-center" 
            style="background-image: url('${bgUrl}');"
          ></div>
          
          <div class="absolute inset-0 bg-black/70 z-[5]"></div>
          
          <div class="relative z-10">
            <div class="text-sm text-gray-400">${formatDate(ev.date)}</div>
            <div class="font-semibold text-white">${ev.name}</div>
            <div class="small text-gray-300">
              ${[ev.location, ev.city, ev.country, ev.time]
            .filter((v) => v && v.trim())
            .join(" â€” ")
          }
            </div>
            ${ev.link
            ? `<div><a href="${ev.link}" target="_blank" class="text-blue-400 underline hover:text-red-500 transition-colors duration-300">Event Link</a></div>`
            : ""
          }
          </div>
        `;
        return card;
      };

      // Render Upcoming Events
      if (upcoming.length === 0)
        upEl.innerHTML =
          '<div class="text-gray-500">No upcoming shows.</div>';
      upcoming.forEach((ev) => {
        upEl.appendChild(createEventCard(ev));
      });

      // Render Past Events
      if (past.length === 0)
        pastEl.innerHTML = '<div class="text-gray-500">No past shows.</div>';
      past.forEach((ev) => {
        pastEl.appendChild(createEventCard(ev));
      });
    }

    // Show/Past button toggle logic
    document.getElementById("upcomingBtn").addEventListener("click", () => {
      document.getElementById("upcomingList").classList.remove("hidden");
      document.getElementById("pastList").classList.add("hidden");
      document
        .getElementById("upcomingBtn")
        .classList.add("bg-[var(--accent)]");
      document
        .getElementById("upcomingBtn")
        .classList.remove("bg-[var(--muted)]"); // Ensure the muted color is removed
      document
        .getElementById("pastBtn")
        .classList.remove("bg-[var(--accent)]");
      document
        .getElementById("pastBtn")
        .classList.add("bg-[var(--muted)]"); // Ensure the past button is muted
    });
    document.getElementById("pastBtn").addEventListener("click", () => {
      document.getElementById("pastList").classList.remove("hidden");
      document.getElementById("upcomingList").classList.add("hidden");
      document
        .getElementById("pastBtn")
        .classList.add("bg-[var(--accent)]");
      document
        .getElementById("pastBtn")
        .classList.remove("bg-[var(--muted)]"); // Ensure the muted color is removed
      document
        .getElementById("upcomingBtn")
        .classList.remove("bg-[var(--accent)]");
      document
        .getElementById("upcomingBtn")
        .classList.add("bg-[var(--muted)]"); // Ensure the upcoming button is muted
    });


    // Firebase snapshot listener to fetch and sort events
    const q = query(eventsColl, orderBy("date", "asc"));
    onSnapshot(
      q,
      (snap) => {
        const docs = snap.docs.map((d) => ({ id: d.id, ...d.data() }));
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const upcoming = docs.filter((e) => parseDateLocal(e.date) >= today);
        const past = docs
          .filter((e) => parseDateLocal(e.date) < today)
          .reverse();
        renderEventsInto(upcoming, past);
      },
      (err) => {
        console.error("Firestore snapshot error", err);
        document.getElementById("upcomingList").innerHTML =
          '<div class="text-red-400">Could not load shows.</div>';
      }
    );

    // Initial click to display upcoming shows
    document.getElementById("upcomingBtn").click();


    /* --------------------------------------------------------
    * General UI/UX Logic (Fixed)
    * -------------------------------------------------------- */

    const header = document.getElementById("mainHeader");
    const backToTopBtn = document.getElementById("backToTopBtn");

    // Thresholds
    const scrollThreshold = 200;       // For hiding header
    const backgroundThreshold = 100;   // For header background change
    const buttonThreshold = 400;       // For Back to Top button visibility (e.g., 400px down)

    let lastScrollY = window.scrollY;

    function handleScroll() {
      const currentScrollY = window.scrollY;

      /* ---------------------------
        1. HIDE / SHOW HEADER LOGIC
        --------------------------- */
      if (currentScrollY > scrollThreshold) {
        if (currentScrollY > lastScrollY) {
          // Scrolling down â†’ hide header
          header.classList.add("header-hidden");
        } else if (currentScrollY < lastScrollY) {
          // Scrolling up â†’ show header
          header.classList.remove("header-hidden");
        }
      }

      // At top â†’ keep header visible
      if (currentScrollY <= scrollThreshold) {
        header.classList.remove("header-hidden");
      }

      /* ---------------------------
        2. HEADER BACKGROUND LOGIC
        --------------------------- */
      if (currentScrollY > backgroundThreshold) {
        header.classList.add("bg-black/80", "shadow-lg");
      } else {
        header.classList.remove("bg-black/80", "shadow-lg");
      }

      /* ---------------------------
        3. BACK TO TOP BUTTON LOGIC (FIXED)
        --------------------------- */
      if (currentScrollY > buttonThreshold) {
        // Show button: make it visible and clickable
        backToTopBtn.classList.remove('opacity-0', 'pointer-events-none');
        backToTopBtn.classList.add('opacity-100');
      } else {
        // Hide button
        backToTopBtn.classList.remove('opacity-100');
        backToTopBtn.classList.add('opacity-0', 'pointer-events-none');
      }

      lastScrollY = currentScrollY;
    }

    // ONE scroll listener for everything
    window.addEventListener("scroll", handleScroll, { passive: true });

    // Ensure correct background and button state if page loads scrolled
    handleScroll();


    backToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });


    // 3. YouTube thumbnail interaction
    const ytThumbs = document.getElementById("yt-thumbs");
    const ytEmbed = document.getElementById("yt-embed");

    if (ytThumbs && ytEmbed) {
      ytThumbs.addEventListener("click", (event) => {
        const button = event.target.closest("button");
        if (button && button.dataset.video) {
          const videoId = button.dataset.video;
          ytEmbed.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
        }
      });
    }

    // 4. Bookings Modal Logic
    const openBtn = document.getElementById("openBookingsModal");
    const closeBtn = document.getElementById("closeBookingsModal");
    const modal = document.getElementById("bookingsModal");

    if (openBtn && closeBtn && modal) {
      openBtn.addEventListener("click", () => {
        modal.classList.remove("hidden");
        // Add a class to body to prevent scrolling if you wish
        document.body.style.overflow = 'hidden';
      });

      closeBtn.addEventListener("click", () => {
        modal.classList.add("hidden");
        // Remove the no-scroll class
        document.body.style.overflow = '';
      });

      // Close modal when clicking outside (on the overlay)
      modal.addEventListener("click", (event) => {
        if (event.target === modal) {
          modal.classList.add("hidden");
          document.body.style.overflow = '';
        }
      });

      // Close modal on Escape key
      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape" && !modal.classList.contains("hidden")) {
          modal.classList.add("hidden");
          document.body.style.overflow = '';
        }
      });
    }

    // 5. Secret Video (Konami Code)
    const konamiCode = [
      "ArrowUp",
      "ArrowUp",
      "ArrowDown",
      "ArrowDown",
      "ArrowLeft",
      "ArrowRight",
      "ArrowLeft",
      "ArrowRight",
      "KeyB",
      "KeyA",
    ];
    let konamiIndex = 0;
    const secretContainer = document.getElementById("secretVideoContainer");

    document.addEventListener("keydown", (e) => {
      const expectedKey = konamiCode[konamiIndex];

      if (e.code === expectedKey) {
        konamiIndex++;
      } else {
        konamiIndex = 0; // Reset if the wrong key is pressed
        if (e.code === konamiCode[0]) {
          konamiIndex = 1; // Start over if the first key is pressed again
        }
      }

      if (konamiIndex === konamiCode.length) {
        konamiIndex = 0; // Reset index to prevent immediate re-trigger
        showSecretVideo();
      }
    });

    function showSecretVideo() {
      if (!secretContainer) return;

      const iframe = document.createElement("iframe");
      iframe.src = "https://www.youtube.com/embed/5F4E40k_4M8?autoplay=1&mute=0";
      iframe.frameBorder = "0";
      iframe.allow =
        "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
      iframe.allowFullscreen = true;
      iframe.className = "w-11/12 max-w-4xl h-3/4 max-h-[80vh] rounded-xl shadow-2xl";

      // Clear previous content
      secretContainer.innerHTML = "";
      secretContainer.appendChild(iframe);
      secretContainer.classList.remove("hidden");
      secretContainer.classList.add("pointer-events-auto");
      document.body.style.overflow = 'hidden'; // Prevent main page scroll

      const closeButton = document.createElement("button");
      closeButton.innerHTML = "Ã—";
      closeButton.className = "absolute top-4 right-4 text-white text-5xl p-2 hover:text-red-500 transition-colors z-50";
      closeButton.onclick = () => {
        secretContainer.classList.add("hidden");
        secretContainer.classList.remove("pointer-events-auto");
        secretContainer.innerHTML = "";
        document.body.style.overflow = '';
      };
      secretContainer.appendChild(closeButton);
    }
  </script>
</body>

</html>